{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","api/index.jsx","components/SearchBar/index.jsx","components/ImageGalleryItem/index.jsx","components/ImageGallery/index.jsx","components/Modal/index.jsx","components/Button/index.jsx","App.js","index.js","components/SearchBar/SearchBar.module.css"],"names":["module","exports","axios","defaults","baseURL","fetch","fetchHits","query","page","get","then","response","data","SearchBar","state","handleChange","evt","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","this","className","styles","SearchForm","type","SearchFormButton","SearchFormLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","url","alt","bigHit","onImgOpen","onClick","src","ImageGalleryItemImage","ImageGallery","hits","onToggleModal","map","id","webformatURL","largeImageURL","modalRoot","document","querySelector","Modal","handleKeyDown","event","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","Button","scrollTo","top","documentElement","scrollHeight","behavior","App","isLoading","error","showModal","modalImg","handleChangeQuery","searchQuery","options","apiHits","prevState","catch","finally","toggleModal","prevProps","onLoadButton","length","color","height","width","message","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.17eaa629.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__nFNNg\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__355yv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__15_TP\",\"Modal\":\"Modal_Modal__3nAZ-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__6wA7F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1Ku9L\"};","import axios from 'axios';\r\n\r\nconst API_KEY = '20386006-9675b11da888a7538d51ef351';\r\naxios.defaults.baseURL = `https://pixabay.com/`;\r\n\r\nconst fetchHits = ({query, page}) => {\r\n  return axios\r\n    .get(\r\n      `/api/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(response => response.data);\r\n   \r\n};\r\n\r\nconst fetch = { fetchHits };\r\nexport default fetch;\r\n","    import { Component } from 'react';\r\n    import PropTypes from 'prop-types';\r\n    import styles from './SearchBar.module.css';\r\n\r\n    class SearchBar extends Component {\r\n      state = { query: '' };\r\n\r\n      handleChange = evt => {\r\n        this.setState({ query: evt.currentTarget.value });\r\n      };\r\n\r\n      handleSubmit = evt => {\r\n        evt.preventDefault();\r\n\r\n        this.props.onSubmit(this.state.query);\r\n\r\n        this.setState({ query: '' });\r\n      };\r\n\r\n      render() {\r\n        const { query } = this.state;\r\n\r\n        return (\r\n          <header className={styles.SearchBar}>\r\n            <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n              <button type=\"submit\" className={styles.SearchFormButton}>\r\n                <span className={styles.SearchFormLabel}></span>\r\n              </button>\r\n\r\n              <input\r\n                className={styles.SearchFormInput}\r\n                type=\"text\"\r\n                autoComplete=\"off\"\r\n                autoFocus\r\n                placeholder=\"Search images and photos\"\r\n                value={query}\r\n                onChange={this.handleChange}\r\n              />\r\n            </form>\r\n          </header>\r\n        );\r\n      }\r\n    }\r\n\r\n    SearchBar.propTypes = {\r\n      onSubmit: PropTypes.func.isRequired,\r\n    };\r\n\r\n    export default SearchBar;","\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ url, alt, bigHit, onImgOpen }) => {\r\n  return (\r\n    <li\r\n      className={styles.ImageGalleryItem}\r\n      onClick={() => onImgOpen(bigHit, alt)}\r\n    >\r\n      <img\r\n        src={url}\r\n        alt={alt}\r\n        className={styles.ImageGalleryItemImage}        \r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\n\r\nexport default ImageGalleryItem;\r\n\r\n\r\n","import ImageGalleryItem from '../ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ hits, onToggleModal }) => {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {hits.map(({ id, webformatURL, largeImageURL }) => {\r\n        return (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          url={webformatURL}\r\n          bigHit={largeImageURL}\r\n          onImgOpen={onToggleModal}          \r\n        />\r\n      );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\n\r\nImageGallery.propTypes = {\r\n  hits: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default ImageGallery;","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = event => {\r\n    if (event.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n    render() {\r\n    return createPortal(\r\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={styles.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;","import PropTypes from 'prop-types';\r\nimport styles from './Button.module.css'\r\n\r\nconst Button = ({ onClick }) => {\r\n    \r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  return (\r\n    <button type=\"button\" className={styles.Button} onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\nexport default Button;","import { Component } from 'react';\nimport apiHits from './api';\nimport SearchBar from './components/SearchBar';\nimport ImageGallery from './components/ImageGallery';\nimport Modal from './components/Modal';\nimport Button from './components/Button';\nimport Loader from 'react-loader-spinner';\nimport './App.css';\n\n\nclass App extends Component {\n  state = {\n    hits: [],\n    page: 1,\n    query: '',\n    isLoading: false,\n    error: null,\n    showModal: false,\n    modalImg: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.fetchHits();\n    }\n  }\n  handleChangeQuery = searchQuery => {\n    this.setState({ query: searchQuery, page: 1, hits: [], error: null });\n  };\n\n  fetchHits = () => {\n    const { page, query } = this.state;\n    const options = {\n      page,\n      query,\n    };\n\n    this.setState({ isLoading: true });\n\n    apiHits\n      .fetchHits(options)\n      .then(data => {\n        this.setState(prevState => ({\n          hits: [...prevState.hits, ...data.hits],\n          page: prevState.page + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  toggleModal = (url, alt) => {\n    this.setState(prevState => ({\n      showModal: !prevState.showModal,\n      modalImg: { url, alt },\n    }));\n  };\n\n  render() {\n    const {\n      hits,\n      isLoading,\n      error,\n      showModal,\n      modalImg: { url, alt },\n    } = this.state;\n    const onLoadButton = hits.length > 0 && !isLoading;\n    \n    return (\n      <div className=\"App\">\n        <SearchBar onSubmit={this.handleChangeQuery} />\n        {isLoading && (\n          <div className=\"Loader\">\n            <Loader\n              type=\"Rings\"\n              color=\"#00BFFF\"\n              height={200}\n              width={200}         \n            />\n          </div>\n        )}\n        <ImageGallery hits={hits} onToggleModal={this.toggleModal} />\n\n        {onLoadButton && <Button onClick={this.fetchHits} />}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={url} alt={alt} />\n          </Modal>\n        )}\n        {error && <p>Whoops, something went wrong: {error.message}</p>}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchBar\":\"SearchBar_SearchBar__2XDKP\",\"SearchForm\":\"SearchBar_SearchForm__XyDrr\",\"SearchFormButton\":\"SearchBar_SearchFormButton__1aiwG\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__EbqwS\",\"SearchFormInput\":\"SearchBar_SearchFormInput__14EBJ\"};"],"sourceRoot":""}